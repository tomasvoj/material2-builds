{"version":3,"file":"chip.js","sourceRoot":"","sources":["../../../../src/lib/chips/chip.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer\n} from '@angular/core';\n\nimport {Observable} from 'rxjs/Observable';\nimport {Focusable} from '../core/a11y/focus-key-manager';\nimport {coerceBooleanProperty} from '../core/coercion/boolean-property';\nimport {SPACE, BACKSPACE, DELETE} from '../core/keyboard/keycodes';\n\nexport interface MdChipEvent {\n  chip: MdChip;\n}\n\n/**\n * Material design styled Chip component. Used inside the MdChipList component.\n */\n@Component({\n  selector: `md-basic-chip, [md-basic-chip], md-chip, [md-chip],\n             mat-basic-chip, [mat-basic-chip], mat-chip, [mat-chip]`,\n  template: `<ng-content></ng-content><div class=\"md-chip-focus-border\"></div>`,\n  host: {\n    '[class.mat-chip]': 'true',\n    'tabindex': '-1',\n    'role': 'option',\n\n    '[class.mat-chip-selected]': 'selected',\n    '[class.mat-chip-has-remove-icon]': '_hasRemoveIcon',\n    '[attr.disabled]': 'disabled',\n    '[attr.aria-disabled]': '_isAriaDisabled',\n\n    '(click)': '_handleClick($event)',\n    '(keydown)': '_handleKeydown($event)'\n  }\n})\nexport class MdChip implements Focusable, OnInit, OnDestroy {\n\n  /** Whether or not the chip is disabled. Disabled chips cannot be focused. */\n  protected _disabled: boolean = null;\n\n  /** Whether or not the chip is selectable. */\n  protected _selectable: boolean = true;\n\n  /** Whether or not the chip is removable. */\n  protected _removable: boolean = true;\n\n  /** Whether or not the chip is selected. */\n  protected _selected: boolean = false;\n\n  /** The palette color of selected chips. */\n  protected _color: string = 'primary';\n\n  /** Whether or not the chip is displaying the remove icon. */\n  _hasRemoveIcon: boolean = false;\n\n  /** Emitted when the removable property changes. */\n  private _onRemovableChange = new EventEmitter<boolean>();\n  onRemovableChange$: Observable<boolean> = this._onRemovableChange.asObservable();\n\n  /** Emitted when the chip is focused. */\n  onFocus = new EventEmitter<MdChipEvent>();\n\n  /** Emitted when the chip is selected. */\n  @Output() select = new EventEmitter<MdChipEvent>();\n\n  /** Emitted when the chip is deselected. */\n  @Output() deselect = new EventEmitter<MdChipEvent>();\n\n  /** Emitted when the chip is destroyed. */\n  @Output() destroy = new EventEmitter<MdChipEvent>();\n\n  /** Emitted when a chip is to be removed. */\n  @Output('remove') onRemove = new EventEmitter<MdChipEvent>();\n\n  constructor(protected _renderer: Renderer, protected _elementRef: ElementRef) {\n  }\n\n  ngOnInit(): void {\n    this._addDefaultCSSClass();\n    this._updateColor(this._color);\n  }\n\n  ngOnDestroy(): void {\n    this.destroy.emit({chip: this});\n  }\n\n  /** Whether or not the chip is disabled. */\n  @Input() get disabled(): boolean {\n    return this._disabled;\n  }\n\n  /** Sets the disabled state of the chip. */\n  set disabled(value: boolean) {\n    this._disabled = coerceBooleanProperty(value) ? true : null;\n  }\n\n  /** A String representation of the current disabled state. */\n  get _isAriaDisabled(): string {\n    return String(coerceBooleanProperty(this.disabled));\n  }\n\n  /**\n   * Whether or not the chips are selectable. When a chip is not selectable,\n   * changes to it's selected state are always ignored.\n   */\n  @Input() get selectable(): boolean {\n    return this._selectable;\n  }\n\n  set selectable(value: boolean) {\n    this._selectable = coerceBooleanProperty(value);\n  }\n\n  /**\n   * Determines whether or not the chip displays the remove styling and emits (remove) events.\n   */\n  @Input() get removable(): boolean {\n    return this._removable;\n  }\n\n  set removable(value: boolean) {\n    this._removable = coerceBooleanProperty(value);\n    this._onRemovableChange.emit(this._removable);\n  }\n\n  /** Whether or not this chip is selected. */\n  @Input() get selected(): boolean {\n    return this._selected;\n  }\n\n  set selected(value: boolean) {\n    this._selected = coerceBooleanProperty(value);\n\n    if (this._selected) {\n      this.select.emit({chip: this});\n    } else {\n      this.deselect.emit({chip: this});\n    }\n  }\n\n  /** Toggles the current selected state of this chip. */\n  toggleSelected(): boolean {\n    this.selected = !this.selected;\n    return this.selected;\n  }\n\n  /** The color of the chip. Can be `primary`, `accent`, or `warn`. */\n  @Input() get color(): string {\n    return this._color;\n  }\n\n  set color(value: string) {\n    this._updateColor(value);\n  }\n\n  /** Allows for programmatic focusing of the chip. */\n  focus(): void {\n    this._renderer.invokeElementMethod(this._elementRef.nativeElement, 'focus');\n    this.onFocus.emit({chip: this});\n  }\n\n  /**\n   * Allows for programmatic removal of the chip. Called by the MdChipList when the DELETE or\n   * BACKSPACE keys are pressed.\n   *\n   * Note: This only informs any listeners of the removal request, it does **not** actually remove\n   * the chip from the DOM.\n   */\n  remove(): void {\n    if (this.removable) {\n      this.onRemove.emit({chip: this});\n    }\n  }\n\n  /** Ensures events fire properly upon click. */\n  _handleClick(event: Event) {\n    // Check disabled\n    if (this._checkDisabled(event)) {\n      return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.focus();\n  }\n\n  /** Handle custom key presses. */\n  _handleKeydown(event: KeyboardEvent) {\n    if (this._checkDisabled(event)) {\n      return;\n    }\n\n    switch (event.keyCode) {\n      case DELETE:\n      case BACKSPACE:\n        // If we are removable, remove the focused chip\n        if (this.removable) {\n          this.onRemove.emit();\n        }\n\n        // Always prevent so page navigation does not occur\n        event.preventDefault();\n        break;\n      case SPACE:\n        // If we are selectable, toggle the focused chip\n        if (this.selectable) {\n          this.toggleSelected();\n        }\n\n        // Always prevent space from scrolling the page since the list has focus\n        event.preventDefault();\n        break;\n    }\n  }\n\n  /**\n   * Sets whether or not this chip is displaying a remove icon. Adds/removes the\n   * `md-chip-has-remove-icon` class.\n   */\n  _setHasRemoveIcon(value: boolean) {\n    this._hasRemoveIcon = value;\n  }\n\n  protected _checkDisabled(event: Event): boolean {\n    if (this.disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    return this.disabled;\n  }\n\n  /** Initializes the appropriate CSS classes based on the chip type (basic or standard). */\n  private _addDefaultCSSClass() {\n    let el: HTMLElement = this._elementRef.nativeElement;\n\n    // If we are a basic chip, also add the `mat-basic-chip` class for :not() targeting\n    if (el.nodeName.toLowerCase() == 'mat-basic-chip' || el.hasAttribute('mat-basic-chip') ||\n        el.nodeName.toLowerCase() == 'md-basic-chip' || el.hasAttribute('md-basic-chip')) {\n      el.classList.add('mat-basic-chip');\n    }\n  }\n\n  /** Updates the private _color variable and the native element. */\n  private _updateColor(newColor: string) {\n    this._setElementColor(this._color, false);\n    this._setElementColor(newColor, true);\n    this._color = newColor;\n  }\n\n  /** Sets the mat-color on the native element. */\n  private _setElementColor(color: string, isAdd: boolean) {\n    if (color != null && color != '') {\n      this._renderer.setElementClass(this._elementRef.nativeElement, `mat-${color}`, isAdd);\n    }\n  }\n}\n"]}